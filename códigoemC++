projeto adivinha da aula técnicas de programação

#include <stdio.h>
#include <string.h>

// Função principal que roda uma partida do jogo
int jogar(int entrada, int *pontos, char nome[]) {
    // Gera o número sorteado com base na entrada
    int numero_sorteado = (entrada * 14) % 100 + 1;
    int palpite;

    // Instruções iniciais
    printf("\n%s, tente acertar o número sorteado entre 1 e 100 (digite 0 para sair):\n", nome);

    while (1) {
        printf("Seu palpite: ");
        scanf("%d", &palpite);

        // Se quiser sair, mostra o número e encerra
        if (palpite == 0) {
            printf("Jogo encerrado. O número era %d.\n", numero_sorteado);
            return -1;
        }

        // Se acertar, ganha ponto e encerra a rodada
        if (palpite == numero_sorteado) {
            printf("Você acertou!\n");
            (*pontos)++;
            return 1;
        } else {
            // Se errar, mostra se foi acima ou abaixo e perde ponto
            printf("Infelizmente não é esse. Seu palpite foi %s do número.\n",
                   palpite < numero_sorteado ? "abaixo" : "acima");
            (*pontos)--; // penaliza por erro
        }
    }
}

// Mostra a pontuação atual do jogador
void ranking(int pontos) {
    printf("Pontuação atual: %d pontos.\n", pontos);
}

// Mostra o ranking final dos dois jogadores
void rankingFinal(char nome1[], int pontos1, char nome2[], int pontos2) {
    printf("\n--- RANKING FINAL ---\n");
    printf("%s: %d pontos\n", nome1, pontos1);
    printf("%s: %d pontos\n", nome2, pontos2);

    // Decide quem venceu ou se empatou
    if (pontos1 > pontos2) {
        printf(" %s venceu!\n", nome1);
    } else if (pontos2 > pontos1) {
        printf(" %s venceu!\n", nome2);
    } else {
        printf(" Empate entre %s e %s!\n", nome1, nome2);
    }
}

// Função que controla a vez de cada jogador
void jogarComJogador(char nome[], int *pontos) {
    int entrada;
    char novamente;

    do {
        // Entrada do jogador
        printf("\n%s, digite um número de entrada: ", nome);
        scanf("%d", &entrada);

        // Roda o jogo e atualiza pontos
        jogar(entrada, pontos, nome);

        // Mostra pontuação parcial
        printf("Pontuação atual de %s: %d pontos\n", nome, *pontos);

        // Pergunta se quer continuar jogando
        printf("Deseja jogar novamente, %s? (S/N): ", nome);
        scanf(" %c", &novamente); // espaço ignora o \n
    } while (novamente == 's' || novamente == 'S');
}

// Função principal
int main() {
    char nome1[3], nome2[3];
    int pontos1 = 5, pontos2 = 5;

    // Nome dos jogadores
    printf("Digite o nome do Jogador 1: ");
    scanf(" %49[^\n]", nome1);

    printf("Digite o nome do Jogador 2: ");
    scanf(" %49[^\n]", nome2);

    // Jogador 1 joga primeiro
    printf("\n--- JOGADOR 1: %s ---\n", nome1);
    jogarComJogador(nome1, &pontos1);

    // Depois é a vez do jogador 2
    printf("\n--- JOGADOR 2: %s ---\n", nome2);
    jogarComJogador(nome2, &pontos2);

    // Mostra o ranking final
    rankingFinal(nome1, pontos1, nome2, pontos2);
    return 0;
}
